<div id="matches-container">Loading matches...</div>

<script>
    async function fetchMatches() {
        const apiUrl = "http://localhost:8000/api/matches/";
        const container = document.getElementById("matches-container");

        try {
            const response = await fetch(apiUrl);
            if (!response.ok) throw new Error(`HTTP Error: ${response.status}`);

            const data = await response.json();

            if (data.success && Array.isArray(data.data)) {
                container.innerHTML = data.data
                    .map(match => `
            <div style="border:1px solid #ddd; padding:10px; margin:10px; border-radius:8px;">
              <h3>${match.competition.name}</h3>
              <p><strong>${match.home_team.name}</strong> vs <strong>${match.away_team.name}</strong></p>
              <p>Status: ${match.status} | Time: ${match.match_time}</p>
              <p>Score: ${match.home_team.score || "-"} - ${match.away_team.score || "-"}</p>
            </div>
          `)
                    .join("");
            } else {
                container.textContent = "No match data available.";
            }
        } catch (error) {
            container.textContent = "Error fetching matches.";
            console.error("Error:", error.message);
        }
    }

    fetchMatches();
</script>